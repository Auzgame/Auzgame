
<html>
  <head>
    <title>Raft Wars 2!</title>
    <link rel="stylesheet" href="./style.css">
    <script src="https://unpkg.com/@ruffle-rs/ruffle"></script>
    <script>
    window.RufflePlayer = window.RufflePlayer || {};
    window.addEventListener("load", (event) => {
        const ruffle = window.RufflePlayer.newest();
        const player = ruffle.createPlayer();
        player.style.width = "800px";
        player.style.height = "600px";
        const container = document.getElementById("container");
        container.appendChild(player);
        player.load("game/raft-wars-2.swf");
    });
</script>
  </head>
  <body style="background:black">
    <div id="root">
      <div align="center">
            <a class="game" href=""><img src="" width="20%" height="20%"></a>
            <a href="//auzgame.rf.gd"><img src="../logo.png" width="20%" height="20%"></a>
            <a class="game" href=""><img src="" height="20%" width="20%"></a>
         </div>
      <div id="container"></div>
      <script>
      let xml = new XMLHttpRequest();
      xml.onreadystatechange = function() {
          if (this.readyState == 4 && this.status == 200) {
             // Typical action to be performed when the document is ready:
             console.log(xml.responseText.split(/\r?\n/));
              let games = xml.responseText.split(/\r?\n/);
              for(var i=0;i<document.querySelectorAll(".game").length;i++){
                  let currentGame = games[Math.floor(Math.random() * games.length)]
                  document.querySelectorAll(".game")[i].href = currentGame.split('"')[3];
                  document.querySelectorAll(".game")[i].children[0].src = "/Image/"+currentGame.split('"')[5];
              }
          }
      };
      xml.open("GET","https://raw.githubusercontent.com/Auzgame/Auzgame/main/games.txt", true)
      xml.send();
    </script>
    </div>
  </body>
 </html>
